use std::intrinsics;

pub const SQRT_3_ON_2: f32 = 0.866_025_4;
pub const SQRT_3: f32 = 1.732_050_8;

pub const HEXAGON: [[f32; 2]; 6] = [
    [1.0, 0.0],
    [0.5, SQRT_3_ON_2],
    [-0.5, SQRT_3_ON_2],
    [-1.0, 0.0],
    [-0.5, -SQRT_3_ON_2],
    [0.5, -SQRT_3_ON_2],
];

pub const HEXAGON_VERTS: &[f32] = &[
    0.0,
    0.0,
    //
    1.0,
    0.0,
    //
    0.5,
    SQRT_3_ON_2,
    //
    -0.5,
    SQRT_3_ON_2,
    //
    -1.0,
    0.0,
    //
    -0.5,
    -SQRT_3_ON_2,
    //
    0.5,
    -SQRT_3_ON_2,
];

pub const HEXAGON_INDICES: &[u16] = &[
    0, 1, 2, //
    0, 2, 3, //
    0, 3, 4, //
    0, 4, 5, //
    0, 5, 6, //
    0, 6, 1, //
];

pub const HEXAGONAL_PRISM_VERTS: &[f32] = &[
    0.0,
    0.0,
    0.0,
    //
    1.0,
    0.0,
    0.0,
    //
    0.5,
    SQRT_3_ON_2,
    0.0,
    //
    -0.5,
    SQRT_3_ON_2,
    0.0,
    //
    -1.0,
    0.0,
    0.0,
    //
    -0.5,
    -SQRT_3_ON_2,
    0.0,
    //
    0.5,
    -SQRT_3_ON_2,
    0.0,
    //
    1.0,
    0.0,
    -12.0,
    //
    0.5,
    SQRT_3_ON_2,
    -12.0,
    //
    -0.5,
    SQRT_3_ON_2,
    -12.0,
    //
    -1.0,
    0.0,
    -12.0,
    //
    -0.5,
    -SQRT_3_ON_2,
    -12.0,
    //
    0.5,
    -SQRT_3_ON_2,
    -12.0,
];

pub const HEXAGONAL_PRISM_INDICES: &[usize] = &[
    //////////////// Hexagon ////////////////
    0, 1, 2, //
    0, 2, 3, //
    0, 3, 4, //
    0, 4, 5, //
    0, 5, 6, //
    0, 6, 1, //
    //////////////// Prism ////////////////
    1, 7, 2, //
    2, 7, 8, //
    2, 8, 3, //
    3, 8, 9, //
    3, 9, 4, //
    4, 9, 10, //
    4, 10, 5, //
    5, 10, 11, //
    5, 11, 6, //
    6, 11, 12, //
    6, 12, 1, //
    1, 12, 7, //
];

pub const HEXAGONAL_PRISM: &[f32] = &[
    0.0,
    0.0,
    0.0,
    1.0,
    0.0,
    0.0,
    0.5,
    SQRT_3_ON_2,
    0.0,
    0.0,
    0.0,
    0.0,
    0.5,
    SQRT_3_ON_2,
    0.0,
    -0.5,
    SQRT_3_ON_2,
    0.0,
    0.0,
    0.0,
    0.0,
    -0.5,
    SQRT_3_ON_2,
    0.0,
    -1.0,
    0.0,
    0.0,
    0.0,
    0.0,
    0.0,
    -1.0,
    0.0,
    0.0,
    -0.5,
    -SQRT_3_ON_2,
    0.0,
    0.0,
    0.0,
    0.0,
    -0.5,
    -SQRT_3_ON_2,
    0.0,
    0.5,
    -SQRT_3_ON_2,
    0.0,
    0.0,
    0.0,
    0.0,
    0.5,
    -SQRT_3_ON_2,
    0.0,
    1.0,
    0.0,
    0.0,
    1.0,
    0.0,
    0.0,
    1.0,
    0.0,
    -12.0,
    0.5,
    SQRT_3_ON_2,
    0.0,
    0.5,
    SQRT_3_ON_2,
    0.0,
    1.0,
    0.0,
    -12.0,
    0.5,
    SQRT_3_ON_2,
    -12.0,
    0.5,
    SQRT_3_ON_2,
    0.0,
    0.5,
    SQRT_3_ON_2,
    -12.0,
    -0.5,
    SQRT_3_ON_2,
    0.0,
    -0.5,
    SQRT_3_ON_2,
    0.0,
    0.5,
    SQRT_3_ON_2,
    -12.0,
    -0.5,
    SQRT_3_ON_2,
    -12.0,
    -0.5,
    SQRT_3_ON_2,
    0.0,
    -0.5,
    SQRT_3_ON_2,
    -12.0,
    -1.0,
    0.0,
    0.0,
    -1.0,
    0.0,
    0.0,
    -0.5,
    SQRT_3_ON_2,
    -12.0,
    -1.0,
    0.0,
    -12.0,
    -1.0,
    0.0,
    0.0,
    -1.0,
    0.0,
    -12.0,
    -0.5,
    -SQRT_3_ON_2,
    0.0,
    -0.5,
    -SQRT_3_ON_2,
    0.0,
    -1.0,
    0.0,
    -12.0,
    -0.5,
    -SQRT_3_ON_2,
    -12.0,
    -0.5,
    -SQRT_3_ON_2,
    0.0,
    -0.5,
    -SQRT_3_ON_2,
    -12.0,
    0.5,
    -SQRT_3_ON_2,
    0.0,
    0.5,
    -SQRT_3_ON_2,
    0.0,
    -0.5,
    -SQRT_3_ON_2,
    -12.0,
    0.5,
    -SQRT_3_ON_2,
    -12.0,
    0.5,
    -SQRT_3_ON_2,
    0.0,
    0.5,
    -SQRT_3_ON_2,
    -12.0,
    1.0,
    0.0,
    0.0,
    1.0,
    0.0,
    0.0,
    0.5,
    -SQRT_3_ON_2,
    -12.0,
    1.0,
    0.0,
    -12.0,
];

pub const HEXAGONAL_PRISM_NORMALS: &[f32] = &[
    // Hexagon
    0.0, 0.0, 1.0, ////////////////////////////////////////////////////////////////////////////////
    0.0, 0.0, 1.0, ////////////////////////////////////////////////////////////////////////////////
    0.0, 0.0, 1.0, ////////////////////////////////////////////////////////////////////////////////
    0.0, 0.0, 1.0, ////////////////////////////////////////////////////////////////////////////////
    0.0, 0.0, 1.0, ////////////////////////////////////////////////////////////////////////////////
    0.0, 0.0, 1.0, ////////////////////////////////////////////////////////////////////////////////
    0.0, 0.0, 1.0, ////////////////////////////////////////////////////////////////////////////////
    0.0, 0.0, 1.0, ////////////////////////////////////////////////////////////////////////////////
    0.0, 0.0, 1.0, ////////////////////////////////////////////////////////////////////////////////
    0.0, 0.0, 1.0, ////////////////////////////////////////////////////////////////////////////////
    0.0, 0.0, 1.0, ////////////////////////////////////////////////////////////////////////////////
    0.0, 0.0, 1.0, ////////////////////////////////////////////////////////////////////////////////
    0.0, 0.0, 1.0, ////////////////////////////////////////////////////////////////////////////////
    0.0, 0.0, 1.0, ////////////////////////////////////////////////////////////////////////////////
    0.0, 0.0, 1.0, ////////////////////////////////////////////////////////////////////////////////
    0.0, 0.0, 1.0, ////////////////////////////////////////////////////////////////////////////////
    0.0, 0.0, 1.0, ////////////////////////////////////////////////////////////////////////////////
    0.0, 0.0, 1.0, ////////////////////////////////////////////////////////////////////////////////
    // Prism: first face, northeast
    SQRT_3_ON_2, 0.5, 0.0, ////////////////////////////////////////////////////////////////////////////////
    SQRT_3_ON_2, 0.5, 0.0, ////////////////////////////////////////////////////////////////////////////////
    SQRT_3_ON_2, 0.5, 0.0, ////////////////////////////////////////////////////////////////////////////////
    SQRT_3_ON_2, 0.5, 0.0, ////////////////////////////////////////////////////////////////////////////////
    SQRT_3_ON_2, 0.5, 0.0, ////////////////////////////////////////////////////////////////////////////////
    SQRT_3_ON_2, 0.5, 0.0, ////////////////////////////////////////////////////////////////////////////////
    // Prism: second face, north
    0.0, 1.0, 0.0, ////////////////////////////////////////////////////////////////////////////////
    0.0, 1.0, 0.0, ////////////////////////////////////////////////////////////////////////////////
    0.0, 1.0, 0.0, ////////////////////////////////////////////////////////////////////////////////
    0.0, 1.0, 0.0, ////////////////////////////////////////////////////////////////////////////////
    0.0, 1.0, 0.0, ////////////////////////////////////////////////////////////////////////////////
    0.0, 1.0, 0.0, ////////////////////////////////////////////////////////////////////////////////
    // Prism: third face, northwest
    -SQRT_3_ON_2, 0.5, 0.0, ////////////////////////////////////////////////////////////////////////////////
    -SQRT_3_ON_2, 0.5, 0.0, ////////////////////////////////////////////////////////////////////////////////
    -SQRT_3_ON_2, 0.5, 0.0, ////////////////////////////////////////////////////////////////////////////////
    -SQRT_3_ON_2, 0.5, 0.0, ////////////////////////////////////////////////////////////////////////////////
    -SQRT_3_ON_2, 0.5, 0.0, ////////////////////////////////////////////////////////////////////////////////
    -SQRT_3_ON_2, 0.5, 0.0, ////////////////////////////////////////////////////////////////////////////////
    // Prism: fourth face, southwest
    -SQRT_3_ON_2, -0.5, 0.0, ////////////////////////////////////////////////////////////////////////////////
    -SQRT_3_ON_2, -0.5, 0.0, ////////////////////////////////////////////////////////////////////////////////
    -SQRT_3_ON_2, -0.5, 0.0, ////////////////////////////////////////////////////////////////////////////////
    -SQRT_3_ON_2, -0.5, 0.0, ////////////////////////////////////////////////////////////////////////////////
    -SQRT_3_ON_2, -0.5, 0.0, ////////////////////////////////////////////////////////////////////////////////
    -SQRT_3_ON_2, -0.5, 0.0, ////////////////////////////////////////////////////////////////////////////////
    // Prism: fifth face, south
    0.0, -1.0, 0.0, ////////////////////////////////////////////////////////////////////////////////
    0.0, -1.0, 0.0, ////////////////////////////////////////////////////////////////////////////////
    0.0, -1.0, 0.0, ////////////////////////////////////////////////////////////////////////////////
    0.0, -1.0, 0.0, ////////////////////////////////////////////////////////////////////////////////
    0.0, -1.0, 0.0, ////////////////////////////////////////////////////////////////////////////////
    0.0, -1.0, 0.0, ////////////////////////////////////////////////////////////////////////////////
    // Prism: sixth face, southeast
    SQRT_3_ON_2, -0.5, 0.0, ////////////////////////////////////////////////////////////////////////////////
    SQRT_3_ON_2, -0.5, 0.0, ////////////////////////////////////////////////////////////////////////////////
    SQRT_3_ON_2, -0.5, 0.0, ////////////////////////////////////////////////////////////////////////////////
    SQRT_3_ON_2, -0.5, 0.0, ////////////////////////////////////////////////////////////////////////////////
    SQRT_3_ON_2, -0.5, 0.0, ////////////////////////////////////////////////////////////////////////////////
    SQRT_3_ON_2, -0.5, 0.0, ////////////////////////////////////////////////////////////////////////////////
];

#[inline]
pub fn axial_to_cartesian(q: f32, r: f32) -> (f32, f32) {
    unsafe {
        (
            intrinsics::fmul_fast(1.5, q),
            intrinsics::fmaf32(
                SQRT_3_ON_2,
                q,
                intrinsics::fmul_fast(SQRT_3, r),
            ),
        )
    }
}
